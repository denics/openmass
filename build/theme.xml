<project name="theme" default="">
    <!-- Get our assets dir variable -->
    <property name="theme.artifact.root_dir.relative" value="./vendor/palantirnet/mayflower-artifacts/assets" />

    <!-- Get our twig dir variable -->
    <property name="theme.twig.artifact.root_dir.relative" value="./vendor/palantirnet/mayflower-artifacts/twig" />

    <!-- Get our asset dir variable file path ./vendor/palantirnet/mayflower-artifacts/assets -->
    <resolvepath propertyname="theme.artifact.root_dir" file="${theme.artifact.root_dir.relative}" />

    <!-- Get our twig dir variable file path ./vendor/palantirnet/mayflower-artifacts/assets -->
    <resolvepath propertyname="theme.twig.artifact.root_dir" file="${theme.twig.artifact.root_dir.relative}" />

    <!-- Path to custom theme -->
    <resolvepath propertyname="custom_theme" file="${drupal.root}/themes/custom/mass_theme" />

    <target name="theme-install">
        <phingcall target="theme-artifacts-install">

        </phingcall>
    </target>

    <target name="theme-artifacts-install">
        <includeresource mode="copy" source="${theme.artifact.root_dir}/css" dest="${custom_theme}/css" />
        <includeresource mode="copy" source="${theme.artifact.root_dir}/js" dest="${custom_theme}/js" />
        <includeresource mode="copy" source="${theme.artifact.root_dir}/images" dest="${custom_theme}/images" />
        <includeresource mode="copy" source="${theme.artifact.root_dir}/fonts" dest="${custom_theme}/fonts" />

        <mkdir dir="${custom_theme}/patterns" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/00-base" dest="${custom_theme}/patterns/base" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/01-atoms" dest="${custom_theme}/patterns/atoms" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/02-molecules" dest="${custom_theme}/patterns/molecules" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/03-organisms" dest="${custom_theme}/patterns/organisms" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/04-templates" dest="${custom_theme}/patterns/templates" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/05-pages" dest="${custom_theme}/patterns/pages" />
        <includeresource mode="copy" source="${theme.twig.artifact.root_dir.relative}/06-pilot" dest="${custom_theme}/patterns/pilot" />
    </target>

</project>
